//------------------------------------------------------------------------------
// <auto-generated>
//     This code was auto-generated by NisGab's code generation tooling
//     from Assets/Config/InputActions.inputactions
//
//     Changes to this file may cause incorrect behavior and will be lost if
//     the code is regenerated.
// </auto-generated>
//------------------------------------------------------------------------------


namespace NisGab
{
	public class InputEventBus : LazySingleton<InputEventBus>
	{
		public static PlayerInputActions Player { get; private set; } = new();

		private InputActions _inputActions;

		protected override void Awake()
		{
			base.Awake();
			InitializeInternal();
			UnityEngine.Application.quitting += OnApplicationQuit;
		}

		private void OnDestroy()
		{
			UnInitialize();
		}

		public static void Initialize()
		{
			var _ = Instance;
		}

		public static bool EnablePlayerInput()
		{
			if (!IsValid()) { return false; }
			if (Instance._inputActions.Player.enabled) { return false; }
			
			Instance._inputActions.Player.Enable();
			return true;
		}

		public static bool DisablePlayerInput()
		{
			if (!IsValid()) { return false; }
			if (!Instance._inputActions.Player.enabled) { return false; }
			
			Instance._inputActions.Player.Disable();
			return true;
		}

		private void InitializeInternal()
		{
			DontDestroyOnLoad(gameObject);
			_inputActions = new InputActions();
			Player.Bind(_inputActions.Player);
		}

		private void UnInitialize()
		{
			if (_inputActions == null) { return; }
			Player.UnBind(_inputActions.Player);
		}
	}
}